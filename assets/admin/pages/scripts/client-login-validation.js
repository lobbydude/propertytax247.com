var Login=function(){var e=function(){$(".client-login-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:!1,rules:{client_username:{required:!0},client_password:{required:!0}},messages:{client_username:{required:"Username is required."},client_password:{required:"Password is required."}},invalidHandler:function(e,r){},highlight:function(e){$(e).closest(".form-group").addClass("has-error")},success:function(e){e.closest(".form-group").removeClass("has-error"),e.remove()},errorPlacement:function(e,r){e.insertAfter(r.closest(".input-icon"))},submitHandler:function(e){$.ajax({url:"http://localhost:82/propertytax247/Client_Login/validate",type:"post",data:{username:$("#client_username").val(),password:$("#client_password").val()},method:"POST",success:function(e){if("success"==e.trim()){var r="http://localhost:82/propertytax247/Client";window.location.href=r}"invalid"==e.trim()&&$("#clientlogin_error").show()}})}}),$(".client-login-form input").keypress(function(e){return 13==e.which?($(".client-login-form").validate().form()&&$(".client-login-form").submit(),!1):void 0})},r=function(){$(".client-forget-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:!1,ignore:"",rules:{client_forget_email:{required:!0,email:!0}},messages:{client_forget_email:{required:"Registered Email Id is required."}},invalidHandler:function(e,r){},highlight:function(e){$(e).closest(".form-group").addClass("has-error")},success:function(e){e.closest(".form-group").removeClass("has-error"),e.remove()},errorPlacement:function(e,r){e.insertAfter(r.closest(".input-icon"))},submitHandler:function(e){$.ajax({url:"http://localhost:82/propertytax247/Client_Login/forget_pwd",type:"post",data:{email:$("#client_forget_email").val()},method:"POST",success:function(e){"success"==e.trim()&&($("#clientforget_error").hide(),$("#clientforget_success").show()),"invalid"==e.trim()&&($("#clientforget_success").hide(),$("#clientforget_error").show())}})}}),$(".client-forget-form input").keypress(function(e){return 13==e.which?($(".client-forget-form").validate().form()&&$(".client-forget-form").submit(),!1):void 0}),jQuery("#forget-password").click(function(){jQuery(".client-login-form").hide(),jQuery(".client-forget-form").show()}),jQuery("#back-btn").click(function(){jQuery(".client-login-form").show(),jQuery(".client-forget-form").hide()})},t=function(){function e(e){return e.id?"<img class='flag' src='../../assets/global/img/flags/"+e.id.toLowerCase()+".png'/>&nbsp;&nbsp;"+e.text:e.text}$("#select2_sample4").select2({placeholder:'<i class="fa fa-map-marker"></i>&nbsp;Select a Country',allowClear:!0,formatResult:e,formatSelection:e,escapeMarkup:function(e){return e}}),$("#select2_sample4").change(function(){$(".client-register-form").validate().element($(this))}),$(".client-register-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:!1,ignore:"",rules:{client_full_name:{required:!0},client_business_name:{required:!0},client_register_username:{required:!0},client_register_password:{required:!0},client_register_email:{required:!0,email:!0},client_register_phone:{required:!0,number:!0},client_tc:{required:!0,minlength:1},admin_register_rpassword:{equalTo:"#client_register_password"}},messages:{client_full_name:{required:"Please enter fullname."},client_business_name:{required:"Please enter business name."},client_register_username:{required:"Please enter username."},client_register_password:{required:"Please enter password."},client_register_email:{required:"Please enter email address."},client_register_phone:{required:"Please enter phone no."},client_tc:{required:"Please check term condition & policy",minlength:jQuery.validator.format("Please select TC")},admin_register_rpassword:{required:"Please enter confirm password."}},invalidHandler:function(e,r){},highlight:function(e){$(e).closest(".form-group").addClass("has-error")},success:function(e){e.closest(".form-group").removeClass("has-error"),e.remove()},errorPlacement:function(e,r){e.insertAfter(r.closest(".input-icon"))},submitHandler:function(e){$.ajax({url:"http://localhost:82/propertytax247/Client_Login/Signup",type:"post",data:{fullname:$("#client_full_name").val(),businessname:$("#client_business_name").val(),username:$("#client_register_username").val(),password:$("#client_register_password").val(),email:$("#client_register_email").val(),phone:$("#client_register_phone").val(),tc:$("#client_tc").val()},method:"POST",success:function(r){"success"==r.trim()&&(e.reset(),$("#clientregister_error").hide(),$("#clientregister_exists").hide(),$("#clientregister_success").show()),"invalid"==r.trim()&&($("#clientregister_success").hide(),$("#clientregister_exists").hide(),$("#clientregister_error").show()),"exists"==r.trim()&&($("#clientregister_success").hide(),$("#clientregister_error").hide(),$("#clientregister_exists").show())}})}}),$(".client-register-form input").keypress(function(e){return 13==e.which?($(".client-register-form").validate().form()&&$(".client-register-form").submit(),!1):void 0}),jQuery("#register-btn").click(function(){jQuery(".client-login-form").hide(),jQuery(".client-register-form").show()}),jQuery("#register-back-btn").click(function(){jQuery(".client-login-form").show(),jQuery(".client-register-form").hide()})},i=function(){$(".client-reset-form").validate({errorElement:"span",errorClass:"help-block",focusInvalid:!1,ignore:"",rules:{client_reset_pwd:{required:!0},client_reset_retypepwd:{equalTo:"#client_reset_pwd"}},messages:{client_reset_pwd:{required:"Please enter new password."},client_reset_retypepwd:{required:"Please enter retype password."}},invalidHandler:function(e,r){},highlight:function(e){$(e).closest(".form-group").addClass("has-error")},success:function(e){e.closest(".form-group").removeClass("has-error"),e.remove()},errorPlacement:function(e,r){e.insertAfter(r.closest(".input-icon"))},submitHandler:function(e){$.ajax({url:"http://localhost:82/propertytax247/Client_Login/reset_pwd",type:"post",data:{password:$("#client_reset_pwd").val(),user_id:$("#client_reset_user_id").val(),active_code:$("#client_reset_active_code").val()},method:"POST",success:function(r){"success"==r.trim()&&(e.reset(),$("#clientreset_error").hide(),$("#clientreset_success").show()),"fail"==r.trim()&&($("#clientreset_success").hide(),$("#clientreset_error").show())}})}}),jQuery("#reset-back-btn").click(function(){jQuery(".client-reset-form").hide();var e="http://localhost:82/propertytax247/Client_Login";window.location.href=e})};return{init:function(){e(),r(),t(),i()}}}();